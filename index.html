<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kafe Takip</title>

<style>
:root{
  --bg:#121212;
  --card:#1e1e1e;
  --text:#fff;
}

.light{
  --bg:#f2f2f2;
  --card:#fff;
  --text:#111;
}

body{
  margin:0;
  font-family:Arial;
  background:var(--bg);
  color:var(--text);
}

h2{text-align:center;}

button{
  border:none;
  border-radius:8px;
  padding:8px 12px;
}

#temaBtn{
  display:block;
  margin:10px auto;
}

.container{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:16px;
  padding:16px;
}

.card{
  background:var(--card);
  padding:16px;
  border-radius:14px;
}

.item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:14px 0;
  padding-bottom:8px;
  border-bottom:1px dashed #666;
  cursor:grab;
}

.item button{
  margin-left:4px;
}

.sil{
  background:#b71c1c;
  color:#fff;
}

input{
  width:100%;
  padding:8px;
  margin-top:6px;
  border-radius:8px;
  border:none;
}

.clear{
  background:#b71c1c;
  color:#fff;
  width:100%;
  margin-top:10px;
}
</style>
</head>

<body>

<h2>Kafe SipariÅŸ</h2>
<button id="temaBtn" onclick="temaDegistir()">ğŸŒ™ Koyu Tema</button>

<div style="padding:16px;">
  <input id="urunAd" placeholder="ÃœrÃ¼n adÄ±">
  <input id="urunFiyat" type="number" placeholder="Fiyat">
  <button onclick="urunEkle()">â• ÃœrÃ¼n Ekle</button>
</div>

<div class="container" id="urunler"></div>

<script>
let urunler = JSON.parse(localStorage.getItem("urunler")) || [];

function urunleriYaz(){
  let alan = document.getElementById("urunler");
  alan.innerHTML = "";

  urunler.forEach((u,i)=>{
    let div = document.createElement("div");
    div.className="item";
    div.draggable=true;
    div.dataset.index=i;

    div.innerHTML=`
      <span>${u.ad} (${u.fiyat}â‚º) â†’ ${u.adet||0}</span>
      <div>
        <button onclick="arttir(${i})">+</button>
        <button onclick="azalt(${i})">-</button>
        <button class="sil" onclick="urunSil(${i})">ğŸ—‘</button>
      </div>
    `;
    alan.appendChild(div);
  });

  localStorage.setItem("urunler",JSON.stringify(urunler));
}

function arttir(i){
  urunler[i].adet = (urunler[i].adet||0)+1;
  urunleriYaz();
}

function azalt(i){
  if(urunler[i].adet>0) urunler[i].adet--;
  urunleriYaz();
}

function urunEkle(){
  let ad = urunAd.value.trim();
  let fiyat = Number(urunFiyat.value);
  if(!ad || !fiyat) return;
  urunler.push({ad,fiyat,adet:0});
  urunAd.value="";
  urunFiyat.value="";
  urunleriYaz();
}

function urunSil(i){
  if(confirm("Silinsin mi?")){
    urunler.splice(i,1);
    urunleriYaz();
  }
}

/* SÃœRÃœKLE BIRAK */
let suruklenen=null;

document.addEventListener("dragstart",e=>{
  if(e.target.classList.contains("item")){
    suruklenen=e.target.dataset.index;
  }
});

document.addEventListener("dragover",e=>e.preventDefault());

document.addEventListener("drop",e=>{
  if(e.target.classList.contains("item")){
    let hedef=e.target.dataset.index;
    [urunler[suruklenen],urunler[hedef]] =
    [urunler[hedef],urunler[suruklenen]];
    urunleriYaz();
  }
});

/* TEMA */
function temaDegistir(){
  let acik = document.documentElement.classList.toggle("light");
  localStorage.setItem("tema",acik?"light":"dark");
  temaYukle();
}

function temaYukle(){
  let t = localStorage.getItem("tema")||"dark";
  document.documentElement.classList.toggle("light",t==="light");
  temaBtn.innerText = t==="light" ? "ğŸŒ™ Koyu Tema" : "â˜€ï¸ AÃ§Ä±k Tema";
}

temaYukle();
urunleriYaz();
</script>

</body>
</html>
